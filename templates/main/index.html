{% extends 'base.html' %}

{% block styles %}{% endblock %}


{% block content %}
    {% include 'components/navigation.html' %}

    <div id="file-browser-root" data-initial-path="{{ path | default(value='') }}"></div>

{% endblock %}

{% block scripts %}

    <script src="/assets/filebrowser.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const root = document.getElementById("file-browser-root");
            const initialPath = root?.dataset.initialPath ?? {{ path | default(value="") | json_encode | safe }};
            if (window.mountFileBrowser) {
                window.mountFileBrowser("#file-browser-root", initialPath, { baseUrl: "" });
            }
        });
    </script>

{% endblock %}
